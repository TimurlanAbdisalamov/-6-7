{"ast":null,"code":"import { createAction, createReducer } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nconst GET_CATEGORIES = 'GET_CATEGORIES';\nconst ADD_CART = 'ADD_CART';\nconst DECREMENT_CART = 'DECREMENT_CART';\nconst DELETE_CART = 'DELETE_CART';\nexport const getCategories = () => {\n  let action = createAction(GET_CATEGORIES);\n  return dispatch => {\n    axios('https://fakestoreapi.com/products/categories').then(({\n      data\n    }) => dispatch(action(data)));\n  };\n};\nexport const addCart = createAction(ADD_CART);\nexport const decrementCart = createAction(DECREMENT_CART);\nexport const deleteCart = createAction(DELETE_CART);\nconst initialState = {\n  categories: [],\n  cart: []\n};\nexport default createReducer(initialState, builder => {\n  builder.addCase(GET_CATEGORIES, (state, action) => {\n    state.categories = action.payload;\n  }).addCase(ADD_CART, (state, action) => {\n    let object = action.payload;\n    const idx = state.cart.findIndex(item => object.id === item.id);\n    if (idx < 0) {\n      state.cart = [{\n        ...object,\n        count: 1\n      }, ...state.cart];\n    } else {\n      state.cart[idx].count++;\n      state.cart = [...state.cart];\n    }\n  }).addCase(DECREMENT_CART, (state, action) => {\n    let object = action.payload;\n    const idx = state.cart.findIndex(item => object.id === item.id);\n    state.cart[idx].count--;\n    state.cart = [...state.cart];\n  }).addCase(DELETE_CART, (state, action) => {\n    state.cart = state.cart.filter(item => item.id !== action.payload.id);\n  });\n});","map":{"version":3,"names":["createAction","createReducer","axios","GET_CATEGORIES","ADD_CART","DECREMENT_CART","DELETE_CART","getCategories","action","dispatch","then","data","addCart","decrementCart","deleteCart","initialState","categories","cart","builder","addCase","state","payload","object","idx","findIndex","item","id","count","filter"],"sources":["C:/Users/Welcome/Desktop/shop26-1/src/redux/reducer.js"],"sourcesContent":["import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios';\r\n\r\nconst GET_CATEGORIES = 'GET_CATEGORIES';\r\nconst ADD_CART = 'ADD_CART';\r\nconst DECREMENT_CART = 'DECREMENT_CART';\r\nconst DELETE_CART = 'DELETE_CART';\r\n\r\nexport const getCategories = () =>{\r\n    let action = createAction(GET_CATEGORIES);\r\n    return (dispatch) =>{\r\n        axios('https://fakestoreapi.com/products/categories')\r\n        .then(({data}) => dispatch(action(data)))\r\n    }\r\n};\r\n\r\nexport const addCart = createAction(ADD_CART);\r\nexport const decrementCart = createAction(DECREMENT_CART);\r\nexport const deleteCart = createAction(DELETE_CART);\r\n\r\nconst initialState = {\r\n    categories: [],\r\n    cart: [],\r\n}\r\n\r\n\r\nexport default createReducer(initialState, (builder)=>{\r\n    builder\r\n    .addCase(GET_CATEGORIES, (state, action)=>{\r\n        state.categories = action.payload\r\n    })\r\n    .addCase(ADD_CART, (state, action)=>{\r\n        let object = action.payload\r\n        const idx = state.cart.findIndex(item => object.id === item.id);\r\n        if(idx < 0){\r\n            state.cart = [{\r\n                ...object,\r\n                count: 1\r\n            }, ...state.cart]\r\n        } else{\r\n            state.cart[idx].count++\r\n            state.cart = [...state.cart]\r\n        }\r\n    })\r\n    .addCase(DECREMENT_CART, (state, action)=>{\r\n        let object = action.payload\r\n        const idx = state.cart.findIndex(item => object.id === item.id);\r\n        state.cart[idx].count--\r\n        state.cart = [...state.cart]\r\n    })\r\n    .addCase(DELETE_CART, (state, action)=>{\r\n       state.cart = state.cart.filter(item => item.id !== action.payload.id)\r\n    })\r\n});\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,QAAQ,kBAAkB;AAC9D,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,cAAc,GAAG,gBAAgB;AACvC,MAAMC,QAAQ,GAAG,UAAU;AAC3B,MAAMC,cAAc,GAAG,gBAAgB;AACvC,MAAMC,WAAW,GAAG,aAAa;AAEjC,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAK;EAC9B,IAAIC,MAAM,GAAGR,YAAY,CAACG,cAAc,CAAC;EACzC,OAAQM,QAAQ,IAAI;IAChBP,KAAK,CAAC,8CAA8C,CAAC,CACpDQ,IAAI,CAAC,CAAC;MAACC;IAAI,CAAC,KAAKF,QAAQ,CAACD,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC;EAC7C,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,OAAO,GAAGZ,YAAY,CAACI,QAAQ,CAAC;AAC7C,OAAO,MAAMS,aAAa,GAAGb,YAAY,CAACK,cAAc,CAAC;AACzD,OAAO,MAAMS,UAAU,GAAGd,YAAY,CAACM,WAAW,CAAC;AAEnD,MAAMS,YAAY,GAAG;EACjBC,UAAU,EAAE,EAAE;EACdC,IAAI,EAAE;AACV,CAAC;AAGD,eAAehB,aAAa,CAACc,YAAY,EAAGG,OAAO,IAAG;EAClDA,OAAO,CACNC,OAAO,CAAChB,cAAc,EAAE,CAACiB,KAAK,EAAEZ,MAAM,KAAG;IACtCY,KAAK,CAACJ,UAAU,GAAGR,MAAM,CAACa,OAAO;EACrC,CAAC,CAAC,CACDF,OAAO,CAACf,QAAQ,EAAE,CAACgB,KAAK,EAAEZ,MAAM,KAAG;IAChC,IAAIc,MAAM,GAAGd,MAAM,CAACa,OAAO;IAC3B,MAAME,GAAG,GAAGH,KAAK,CAACH,IAAI,CAACO,SAAS,CAACC,IAAI,IAAIH,MAAM,CAACI,EAAE,KAAKD,IAAI,CAACC,EAAE,CAAC;IAC/D,IAAGH,GAAG,GAAG,CAAC,EAAC;MACPH,KAAK,CAACH,IAAI,GAAG,CAAC;QACV,GAAGK,MAAM;QACTK,KAAK,EAAE;MACX,CAAC,EAAE,GAAGP,KAAK,CAACH,IAAI,CAAC;IACrB,CAAC,MAAK;MACFG,KAAK,CAACH,IAAI,CAACM,GAAG,CAAC,CAACI,KAAK,EAAE;MACvBP,KAAK,CAACH,IAAI,GAAG,CAAC,GAAGG,KAAK,CAACH,IAAI,CAAC;IAChC;EACJ,CAAC,CAAC,CACDE,OAAO,CAACd,cAAc,EAAE,CAACe,KAAK,EAAEZ,MAAM,KAAG;IACtC,IAAIc,MAAM,GAAGd,MAAM,CAACa,OAAO;IAC3B,MAAME,GAAG,GAAGH,KAAK,CAACH,IAAI,CAACO,SAAS,CAACC,IAAI,IAAIH,MAAM,CAACI,EAAE,KAAKD,IAAI,CAACC,EAAE,CAAC;IAC/DN,KAAK,CAACH,IAAI,CAACM,GAAG,CAAC,CAACI,KAAK,EAAE;IACvBP,KAAK,CAACH,IAAI,GAAG,CAAC,GAAGG,KAAK,CAACH,IAAI,CAAC;EAChC,CAAC,CAAC,CACDE,OAAO,CAACb,WAAW,EAAE,CAACc,KAAK,EAAEZ,MAAM,KAAG;IACpCY,KAAK,CAACH,IAAI,GAAGG,KAAK,CAACH,IAAI,CAACW,MAAM,CAACH,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKlB,MAAM,CAACa,OAAO,CAACK,EAAE,CAAC;EACxE,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}